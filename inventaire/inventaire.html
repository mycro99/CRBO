<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Inventaire réserve - CS Oupeye ©</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
  <style>
    :root {
      --primary-color: #dc3545;
      --secondary-color: #6c757d;
      --bg-color: #f5f5f5;
      --text-color: red; /* Texte global en rouge */
      --border-radius: 6px;
      --box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }
    body {
      font-family: 'Roboto', sans-serif;
      margin: 0;
      padding: 20px;
      background-color: var(--bg-color);
      color: var(--text-color);
    }
    /* Conteneur principal */
    #pdfContent {
      max-width: 900px;
      margin: auto;
    }
    h1, h2 {
      text-align: center;
      color: var(--primary-color);
    }
    h1 {
      margin-bottom: 20px;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
      background-color: #fff;
      border: 1px solid var(--secondary-color);
      border-radius: var(--border-radius);
      overflow: visible;
      box-shadow: var(--box-shadow);
    }
    th, td {
      border: 1px solid var(--secondary-color);
      padding: 8px;
      text-align: center;
    }
    th {
      background-color: var(--primary-color);
      color: #fff;
      font-weight: 500;
    }
    /* Les 4 premières colonnes du tableau en noir */
    .inventory-table tbody td:nth-child(1),
    .inventory-table tbody td:nth-child(2),
    .inventory-table tbody td:nth-child(3),
    .inventory-table tbody td:nth-child(4) {
      color: black;
    }
    .pdf-button {
      display: inline-block;
      padding: 8px 16px;
      font-size: 14px;
      background-color: var(--primary-color);
      color: #fff;
      border: none;
      border-radius: var(--border-radius);
      cursor: pointer;
      box-shadow: var(--box-shadow);
      margin: 0 10px;
    }
    .pdf-button:hover {
      background-color: #c82333;
    }
    /* Boutons de gestion de stock */
    .stock-button {
      font-size: 24px;
      width: 50px;
      height: 50px;
      line-height: 50px;
      text-align: center;
      margin: 0 5px;
      background-color: var(--primary-color);
      color: #fff;
      border: none;
      border-radius: var(--border-radius);
      cursor: pointer;
      box-shadow: var(--box-shadow);
    }
    .stock-button:hover {
      background-color: #c82333;
    }
    /* Styles pour les modaux */
    #scannerModal, #recommandationModal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.7);
      z-index: 1000;
    }
    #scannerContent {
      position: relative;
      margin: 10% auto;
      width: 80%;
      max-width: 600px;
      background: #fff;
      padding: 20px;
      color: black;
      border-radius: var(--border-radius);
      box-shadow: var(--box-shadow);
    }
    /* Modal recommandations */
    #recommandationModal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.7);
      z-index: 1000;
    }
    #recommandationContent {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 80%;
      max-width: 600px;
      max-height: 90vh;
      overflow-y: auto;
      background: #fff;
      padding: 20px;
      color: black;
      border-radius: var(--border-radius);
      box-shadow: var(--box-shadow);
    }
    .button-container {
      text-align: center;
      margin-top: 30px;
    }
    /* Lignes de catégorie */
    .category-header {
      background-color: #fff;
      color: black;
      cursor: pointer;
      font-weight: bold;
      border: 1px solid var(--secondary-color);
    }
    /* Panneau de contrôle */
    .control-panel {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 10px;
    }
    .left-controls {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .control-panel input[type="text"] {
      padding: 5px;
      border: 1px solid var(--secondary-color);
      border-radius: var(--border-radius);
    }
  </style>
</head>
<body>
  <div id="pdfContent">
    <h1>Inventaire réserve - CS Oupeye ©</h1>
    
    <!-- Panneau de contrôle -->
    <div class="control-panel">
      <div class="left-controls">
        <button class="pdf-button" onclick="expandAll()">Tout dérouler</button>
        <button class="pdf-button" onclick="collapseAll()">Replier</button>
        <input type="text" id="searchInput" placeholder="Recherche..." onkeyup="searchArticles()">
        <button class="pdf-button" onclick="showRecommendations()">À recommander</button>
      </div>
      <div class="right-controls">
        <button class="pdf-button" onclick="openScanner()">Scanner</button>
      </div>
    </div>
    
    <table class="inventory-table">
      <thead>
        <tr>
          <th>Nom</th>
          <th>Photo</th>
          <th>Quantité en stock</th>
          <th>Quantité minimum</th>
          <th>Gestion</th>
        </tr>
      </thead>
      <tbody id="inventoryTable">
        <!-- Exemple d'articles pour la catégorie consommables -->
        <tr class="category-header" data-category="consommables" onclick="toggleCategory('consommables')">
          <td colspan="5">Consommables <span id="toggle-consommables" style="float:right;">[+]</span></td>
        </tr>
        <tr class="article-row consommables" data-id="consommables-1" data-barcode="4015630006038" style="display: none;">
          <td>Accu‑check</td>
          <td><img src="images/Accu-check.jpg" alt="Photo Accu‑check" width="80"></td>
          <td id="stock-consommables-1">0</td>
          <td>2</td>
          <td>
            <button class="stock-button" onclick="updateStockAndFirestore('consommables-1', 1)">+</button>
            <button class="stock-button" onclick="updateStockAndFirestore('consommables-1', -1)">-</button>
          </td>
        </tr>
        <tr class="article-row consommables" data-id="consommables-2" data-barcode="" style="display: none;">
  <td>Aesculap</td>
  <td><img src="images/aesculap.jpg" alt="Photo Aesculap" width="80"></td>
  <td id="stock-consommables-2">0</td>
  <td>2</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-2', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-2', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-3" data-barcode="" style="display: none;">
  <td>Aspivenin</td>
  <td><img src="images/aspivenin.jpg" alt="Photo Aspivenin" width="80"></td>
  <td id="stock-consommables-3">0</td>
  <td>1</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-3', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-3', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-4" data-barcode="" style="display: none;">
  <td>Ballon réa adulte</td>
  <td><img src="images/rea_adulte.jpg" alt="Photo Ballon réa adulte" width="80"></td>
  <td id="stock-consommables-4">0</td>
  <td>10</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-4', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-4', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-5" data-barcode="" style="display: none;">
  <td>Ballon réa NN</td>
  <td><img src="images/rea_NN.jpg" alt="Photo Ballon réa NN" width="80"></td>
  <td id="stock-consommables-5">0</td>
  <td>5</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-5', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-5', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-6" data-barcode="" style="display: none;">
  <td>Ballon réa pédia</td>
  <td><img src="images/rea_pedia.jpg" alt="Photo Ballon réa pédia" width="80"></td>
  <td id="stock-consommables-6">0</td>
  <td>5</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-6', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-6', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-7" data-barcode="" style="display: none;">
  <td>Bandage israélien</td>
  <td><img src="images/band_isra.jpg" alt="Photo Bandage israélien" width="80"></td>
  <td id="stock-consommables-7">0</td>
  <td>2</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-7', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-7', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-8" data-barcode="" style="display: none;">
  <td>Bandage triangle</td>
  <td><img src="images/band_triangle.jpg" alt="Photo Bandage triangle" width="80"></td>
  <td id="stock-consommables-8">0</td>
  <td>20</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-8', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-8', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-9" data-barcode="" style="display: none;">
  <td>Bande velpeau 15cm</td>
  <td><img src="images/velpo15.jpg" alt="Photo Bande velpo 15cm" width="80"></td>
  <td id="stock-consommables-9">0</td>
  <td>20</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-9', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-9', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-10" data-barcode="" style="display: none;">
  <td>Bande velpeau 10cm</td>
  <td><img src="images/velpo10.jpg" alt="Photo Bande velpo 10cm" width="80"></td>
  <td id="stock-consommables-10">0</td>
  <td>20</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-10', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-10', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-11" data-barcode="" style="display: none;">
  <td>Bande velpeau 7cm</td>
  <td><img src="images/velpo7.jpg" alt="Photo Bande velpo 7cm" width="80"></td>
  <td id="stock-consommables-11">0</td>
  <td>20</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-11', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-11', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-12" data-barcode="" style="display: none;">
  <td>Bande velpeau 5cm</td>
  <td><img src="images/velpo5.jpg" alt="Photo Bande velpo 5cm" width="80"></td>
  <td id="stock-consommables-12">0</td>
  <td>20</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-12', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-12', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-13" data-barcode="" style="display: none;">
  <td>Bassin réniforme</td>
  <td><img src="images/BR.jpg" alt="Photo Bassin réniforme" width="80"></td>
  <td id="stock-consommables-13">0</td>
  <td>50</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-13', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-13', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-14" data-barcode="" style="display: none;">
  <td>Batterie aspi</td>
  <td><img src="images/bataspi.jpg" alt="Photo Batterie aspi" width="80"></td>
  <td id="stock-consommables-14">0</td>
  <td>2</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-14', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-14', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-15" data-barcode="" style="display: none;">
  <td>Batterie DEA phillips</td>
  <td><img src="images/bat_DEA.jpg" alt="Photo Batterie DEA phillips" width="80"></td>
  <td id="stock-consommables-15">0</td>
  <td>2</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-15', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-15', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-16" data-barcode="" style="display: none;">
  <td>Brosse à ongles</td>
  <td><img src="images/brosse_ongle.jpg" alt="Photo Brosse à ongles" width="80"></td>
  <td id="stock-consommables-16">0</td>
  <td>0</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-16', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-16', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-17" data-barcode="" style="display: none;">
  <td>Canule N°1 (blanche)</td>
  <td><img src="images/canule1.jpg" alt="Photo Canule N°1 (blanche)" width="80"></td>
  <td id="stock-consommables-17">0</td>
  <td>5</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-17', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-17', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-18" data-barcode="" style="display: none;">
  <td>Canule N°2 (verte)</td>
  <td><img src="images/canule2.jpg" alt="Photo Canule N°2 (verte)" width="80"></td>
  <td id="stock-consommables-18">0</td>
  <td>5</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-18', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-18', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-19" data-barcode="" style="display: none;">
  <td>Canule N°3 (jaune)</td>
  <td><img src="images/canule3.jpg" alt="Photo Canule N°3 (jaune)" width="80"></td>
  <td id="stock-consommables-19">0</td>
  <td>5</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-19', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-19', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-20" data-barcode="" style="display: none;">
  <td>Canule N°4 (rouge)</td>
  <td><img src="images/canule4.jpg" alt="Photo Canule N°4 (rouge)" width="80"></td>
  <td id="stock-consommables-20">0</td>
  <td>5</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-20', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-20', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-21" data-barcode="" style="display: none;">
  <td>Canule N°5 (bleu)</td>
  <td><img src="images/canule5.jpg" alt="Photo Canule N°5 (bleu)" width="80"></td>
  <td id="stock-consommables-21">0</td>
  <td>5</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-21', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-21', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-22" data-barcode="" style="display: none;">
  <td>Canule N°6 (orange)</td>
  <td><img src="images/canule6.jpg" alt="Photo Canule N°6 (orange)" width="80"></td>
  <td id="stock-consommables-22">0</td>
  <td>5</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-22', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-22', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-23" data-barcode="" style="display: none;">
  <td>Canule N°7 (noir)</td>
  <td><img src="images/canule7.jpg" alt="Photo Canule N°7 (noir)" width="80"></td>
  <td id="stock-consommables-23">0</td>
  <td>5</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-23', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-23', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-24" data-barcode="" style="display: none;">
  <td>Canule pédia N°00 (bleu)</td>
  <td><img src="images/canule00.jpg" alt="Photo Canule pédia N°00 (bleu)" width="80"></td>
  <td id="stock-consommables-24">0</td>
  <td>5</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-24', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-24', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-25" data-barcode="" style="display: none;">
  <td>Canule pédia N°000 (rose)</td>
  <td><img src="images/canule000.jpg" alt="Photo Canule pédia N°000 (rose)" width="80"></td>
  <td id="stock-consommables-25">0</td>
  <td>5</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-25', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-25', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-26" data-barcode="" style="display: none;">
  <td>Champ stérile</td>
  <td><img src="images/champ_sterile.jpg" alt="Photo Champ stérile" width="80"></td>
  <td id="stock-consommables-26">0</td>
  <td>10</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-26', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-26', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-27" data-barcode="" style="display: none;">
  <td>chlorhexidine</td>
  <td><img src="images/chlorhexidine.jpg" alt="Photo chlorhexidine" width="80"></td>
  <td id="stock-consommables-27">0</td>
  <td>2</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-27', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-27', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-28" data-barcode="" style="display: none;">
  <td>Coffee creamer</td>
  <td><img src="images/coffee_creamer.jpg" alt="Photo Coffee creamer" width="80"></td>
  <td id="stock-consommables-28">0</td>
  <td>1</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-28', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-28', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-29" data-barcode="" style="display: none;">
  <td>Cold pack</td>
  <td><img src="images/cold_pack.jpg" alt="Photo Cold pack" width="80"></td>
  <td id="stock-consommables-29">0</td>
  <td>15</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-29', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-29', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-30" data-barcode="" style="display: none;">
  <td>Collier cervical adulte</td>
  <td><img src="images/collier_adulte.jpg" alt="Photo Collier cervical adulte" width="80"></td>
  <td id="stock-consommables-30">0</td>
  <td>10</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-30', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-30', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-31" data-barcode="" style="display: none;">
  <td>Collier cervical pédia</td>
  <td><img src="images/collier_pedia.jpg" alt="Photo Collier cervical pédia" width="80"></td>
  <td id="stock-consommables-31">0</td>
  <td>10</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-31', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-31', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-32" data-barcode="" style="display: none;">
  <td>Compresses 10x20</td>
  <td><img src="images/compresses_10x20.jpg" alt="Photo Compresses 10x20" width="80"></td>
  <td id="stock-consommables-32">0</td>
  <td>2</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-32', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-32', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-33" data-barcode="" style="display: none;">
  <td>Compresses 10x10</td>
  <td><img src="images/compresses_10x10.jpg" alt="Photo Compresses 10x10" width="80"></td>
  <td id="stock-consommables-33">0</td>
  <td>2</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-33', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-33', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-34" data-barcode="" style="display: none;">
  <td>Compresses 7.5x7.5</td>
  <td><img src="images/compresses_7.5x7.5.jpg" alt="Photo Compresses 7.5x7.5" width="80"></td>
  <td id="stock-consommables-34">0</td>
  <td>2</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-34', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-34', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-35" data-barcode="" style="display: none;">
  <td>Compresses 5x5</td>
  <td><img src="images/compresses_5x5.jpg" alt="Photo Compresses 5x5" width="80"></td>
  <td id="stock-consommables-35">0</td>
  <td>2</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-35', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-35', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-36" data-barcode="" style="display: none;">
  <td>Conteneur B2 ambu</td>
  <td><img src="images/B2_ambu.jpg" alt="Photo Conteneur B2 ambu" width="80"></td>
  <td id="stock-consommables-36">0</td>
  <td>3</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-36', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-36', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-37" data-barcode="" style="display: none;">
  <td>Conteneur B2 de poche</td>
  <td><img src="images/B2_poche.jpg" alt="Photo Conteneur B2 de poche" width="80"></td>
  <td id="stock-consommables-37">0</td>
  <td>2</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-37', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-37', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-38" data-barcode="" style="display: none;">
  <td>Coussin stolenwerk noir</td>
  <td><img src="images/coussin_noir.jpg" alt="Photo Coussin stolenwerk noir" width="80"></td>
  <td id="stock-consommables-38">0</td>
  <td>1</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-38', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-38', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-39" data-barcode="" style="display: none;">
  <td>Coussin stolenwerk orange</td>
  <td><img src="images/Coussin_orange.jpg" alt="Photo Coussin stolenwerk orange" width="80"></td>
  <td id="stock-consommables-39">0</td>
  <td>1</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-39', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-39', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-40" data-barcode="" style="display: none;">
  <td>Couverture de survie</td>
  <td><img src="images/couverture_survie.jpg" alt="Photo Couverture de survie" width="80"></td>
  <td id="stock-consommables-40">0</td>
  <td>30</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-40', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-40', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-41" data-barcode="" style="display: none;">
  <td>crevette</td>
  <td><img src="images/crevette.jpg" alt="Photo crevette" width="80"></td>
  <td id="stock-consommables-41">0</td>
  <td>10</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-41', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-41', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-42" data-barcode="00732094314618" style="display: none;">
  <td>embout thermometre</td>
  <td><img src="images/embout_thermo.jpg" alt="Photo embout thermometre" width="80"></td>
  <td id="stock-consommables-42">0</td>
  <td>10</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-42', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-42', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-43" style="display: none;">
  <td>essui accouchement</td>
  <td><img src="images/essui_accouchement.jpg" alt="Photo essui accouchement" width="80"></td>
  <td id="stock-consommables-43">0</td>
  <td>2</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-43', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-43', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-44" style="display: none;">
  <td>filtre réa</td>
  <td><img src="images/filtre_rea.jpg" alt="Photo filtre réa" width="80"></td>
  <td id="stock-consommables-44">0</td>
  <td>20</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-44', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-44', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-45" style="display: none;">
  <td>garrot tourniquet</td>
  <td><img src="images/garrot.jpg" alt="Photo garrot tourniquet" width="80"></td>
  <td id="stock-consommables-45">0</td>
  <td>5</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-45', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-45', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-46" style="display: none;">
  <td>gluco</td>
  <td><img src="images/gluco.jpg" alt="Photo gluco" width="80"></td>
  <td id="stock-consommables-46">0</td>
  <td>1</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-46', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-46', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-47" style="display: none;">
  <td>Gants L</td>
  <td><img src="images/gantsL.jpg" alt="Photo Gants L" width="80"></td>
  <td id="stock-consommables-47">0</td>
  <td>15</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-47', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-47', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-48" style="display: none;">
  <td>gants M</td>
  <td><img src="images/gantsM.jpg" alt="Photo gants M" width="80"></td>
  <td id="stock-consommables-48">0</td>
  <td>20</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-48', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-48', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-49" style="display: none;">
  <td>gants S</td>
  <td><img src="images/gantsS.jpg" alt="Photo gants S" width="80"></td>
  <td id="stock-consommables-49">0</td>
  <td>5</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-49', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-49', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-50" style="display: none;">
  <td>gants XL</td>
  <td><img src="images/gantsXL.jpg" alt="Photo gants XL" width="80"></td>
  <td id="stock-consommables-50">0</td>
  <td>10</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-50', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-50', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-51" style="display: none;">
  <td>iso‑bétadine</td>
  <td><img src="images/iso.jpg" alt="Photo iso‑bétadine" width="80"></td>
  <td id="stock-consommables-51">0</td>
  <td>2</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-51', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-51', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-52" style="display: none;">
  <td>kit accouchement</td>
  <td><img src="images/kit_accouchement.jpg" alt="Photo kit accouchement" width="80"></td>
  <td id="stock-consommables-52">0</td>
  <td>5</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-52', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-52', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-53" style="display: none;">
  <td>kit injection</td>
  <td><img src="images/kit_injection.jpg" alt="Photo kit injection" width="80"></td>
  <td id="stock-consommables-53">0</td>
  <td>5</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-53', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-53', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-54" style="display: none;">
  <td>kit mousse speedblock</td>
  <td><img src="images/mousse_speedblock.jpg" alt="Photo kit mousse speedblock" width="80"></td>
  <td id="stock-consommables-54">0</td>
  <td>5</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-54', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-54', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-55" style="display: none;">
  <td>kit VP</td>
  <td><img src="images/kit_VP.jpg" alt="Photo kit VP" width="80"></td>
  <td id="stock-consommables-55">0</td>
  <td>5</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-55', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-55', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-56" style="display: none;">
  <td>lampe pupille</td>
  <td><img src="images/lampe_pupille.jpg" alt="Photo lampe pupille" width="80"></td>
  <td id="stock-consommables-56">0</td>
  <td>2</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-56', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-56', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-57" style="display: none;">
  <td>lange adulte</td>
  <td><img src="images/lange.jpg" alt="Photo lange adulte" width="80"></td>
  <td id="stock-consommables-57">0</td>
  <td>5</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-57', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-57', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-58" style="display: none;">
  <td>flapule LP</td>
  <td><img src="images/flapule_LP.jpg" alt="Photo flapule LP" width="80"></td>
  <td id="stock-consommables-58">0</td>
  <td>3</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-58', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-58', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-59" style="display: none;">
  <td>lunettes O² adulte</td>
  <td><img src="images/lunettes_O2_adulte.jpg" alt="Photo lunettes O² adulte" width="80"></td>
  <td id="stock-consommables-59">0</td>
  <td>20</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-59', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-59', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-60" style="display: none;">
  <td>lunettes O² pédia</td>
  <td><img src="images/lunettes_O2_pedia.jpg" alt="Photo lunettes O² pédia" width="80"></td>
  <td id="stock-consommables-60">0</td>
  <td>20</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-60', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-60', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-61" style="display: none;">
  <td>macaron jaune</td>
  <td><img src="images/macaron_jaune.jpg" alt="Photo macaron jaune" width="80"></td>
  <td id="stock-consommables-61">0</td>
  <td>10</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-61', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-61', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-62" style="display: none;">
  <td>macaron noir</td>
  <td><img src="images/macaron_noir.jpg" alt="Photo macaron noir" width="80"></td>
  <td id="stock-consommables-62">0</td>
  <td>10</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-62', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-62', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-63" style="display: none;">
  <td>macaron rouge</td>
  <td><img src="images/macaron_rouge.jpg" alt="Photo macaron rouge" width="80"></td>
  <td id="stock-consommables-63">0</td>
  <td>10</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-63', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-63', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-64" style="display: none;">
  <td>masque 100% adulte</td>
  <td><img src="images/100_adulte.jpg" alt="Photo masque 100% adulte" width="80"></td>
  <td id="stock-consommables-64">0</td>
  <td>20</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-64', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-64', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-65" style="display: none;">
  <td>Masque 100% pédia</td>
  <td><img src="images/100_pedia.jpg" alt="Photo Masque 100% pédia" width="80"></td>
  <td id="stock-consommables-65">0</td>
  <td>20</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-65', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-65', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-66" style="display: none;">
  <td>masque aerosol adulte</td>
  <td><img src="images/aerosol_adulte.jpg" alt="Photo masque aerosol adulte" width="80"></td>
  <td id="stock-consommables-66">0</td>
  <td>10</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-66', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-66', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-67" style="display: none;">
  <td>masque aérosol pédia</td>
  <td><img src="images/aerosol_pedia.jpg" alt="Photo masque aérosol pédia" width="80"></td>
  <td id="stock-consommables-67">0</td>
  <td>10</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-67', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-67', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-68" style="display: none;">
  <td>masque chir</td>
  <td><img src="images/chir.jpg" alt="Photo masque chir" width="80"></td>
  <td id="stock-consommables-68">0</td>
  <td>20</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-68', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-68', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-69" style="display: none;">
  <td>masque ffp2</td>
  <td><img src="images/ffp2.jpg" alt="Photo masque ffp2" width="80"></td>
  <td id="stock-consommables-69">0</td>
  <td>20</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-69', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-69', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-70" style="display: none;">
  <td>mouchoirs</td>
  <td><img src="images/mouchoirs.jpg" alt="Photo mouchoirs" width="80"></td>
  <td id="stock-consommables-70">0</td>
  <td>5</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-70', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-70', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-71" style="display: none;">
  <td>omnifix</td>
  <td><img src="images/omnifix.jpg" alt="Photo omnifix" width="80"></td>
  <td id="stock-consommables-71">0</td>
  <td>1</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-71', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-71', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-72" style="display: none;">
  <td>Padding</td>
  <td><img src="images/padding.jpg" alt="Photo Padding" width="80"></td>
  <td id="stock-consommables-72">0</td>
  <td>3</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-72', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-72', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-73" style="display: none;">
  <td>pansement compressif</td>
  <td><img src="images/compressif.jpg" alt="Photo pansement compressif" width="80"></td>
  <td id="stock-consommables-73">0</td>
  <td>2</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-73', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-73', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-74" style="display: none;">
  <td>patch/electrode DEA Phillips</td>
  <td><img src="images/patch_DEA.jpg" alt="Photo patch DEA Phillips" width="80"></td>
  <td id="stock-consommables-74">0</td>
  <td>5</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-74', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-74', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-75" style="display: none;">
  <td>perf eau sterile</td>
  <td><img src="images/perf_eau_sterile.jpg" alt="Photo perf eau sterile" width="80"></td>
  <td id="stock-consommables-75">0</td>
  <td>5</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-75', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-75', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-76" style="display: none;">
  <td>perf NACL</td>
  <td><img src="images/perf_NACL.jpg" alt="Photo perf NACL" width="80"></td>
  <td id="stock-consommables-76">0</td>
  <td>5</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-76', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-76', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-77" style="display: none;">
  <td>Pile AA</td>
  <td><img src="images/pile_AA.jpg" alt="Photo Pile AA" width="80"></td>
  <td id="stock-consommables-77">0</td>
  <td>2</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-77', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-77', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-78" style="display: none;">
  <td>pile AAA</td>
  <td><img src="images/pile_AAA.jpg" alt="Photo pile AAA" width="80"></td>
  <td id="stock-consommables-78">0</td>
  <td>2</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-78', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-78', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-79" style="display: none;">
  <td>pile cr2025</td>
  <td><img src="images/cr2025.jpg" alt="Photo pile cr2025" width="80"></td>
  <td id="stock-consommables-79">0</td>
  <td>2</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-79', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-79', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-80" style="display: none;">
  <td>pince sat masimo</td>
  <td><img src="images/pince_sat_masimo.jpg" alt="Photo pince sat masimo" width="80"></td>
  <td id="stock-consommables-80">0</td>
  <td>2</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-80', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-80', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-81" style="display: none;">
  <td>rasoir</td>
  <td><img src="images/rasoir.jpg" alt="Photo rasoir" width="80"></td>
  <td id="stock-consommables-81">0</td>
  <td>5</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-81', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-81', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-82" style="display: none;">
  <td>rubalise</td>
  <td><img src="images/rubalise.jpg" alt="Photo rubalise" width="80"></td>
  <td id="stock-consommables-82">0</td>
  <td>1</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-82', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-82', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-83" style="display: none;">
  <td>sac d'aspi</td>
  <td><img src="images/sacaspi.jpg" alt="Photo sac d'aspi" width="80"></td>
  <td id="stock-consommables-83">0</td>
  <td>10</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-83', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-83', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-84" style="display: none;">
  <td>sac vomitoire</td>
  <td><img src="images/sac_vomitoire.jpg" alt="Photo sac vomitoire" width="80"></td>
  <td id="stock-consommables-84">0</td>
  <td>2</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-84', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-84', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-85" style="display: none;">
  <td>scotch 3M</td>
  <td><img src="images/scotch.jpg" alt="Photo scotch 3M" width="80"></td>
  <td id="stock-consommables-85">0</td>
  <td>5</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-85', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-85', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-86" style="display: none;">
  <td>sonde aspi blanche (ch. 12)</td>
  <td><img src="images/sonde12.jpg" alt="Photo sonde aspi blanche (ch. 12)" width="80"></td>
  <td id="stock-consommables-86">0</td>
  <td>5</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-86', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-86', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-87" style="display: none;">
  <td>sonde aspi noir (ch. 10)</td>
  <td><img src="images/sonde10.jpg" alt="Photo sonde aspi noir (ch. 10)" width="80"></td>
  <td id="stock-consommables-87">0</td>
  <td>5</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-87', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-87', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-88" style="display: none;">
  <td>sonde aspi rouge (ch. 18)</td>
  <td><img src="images/sonde18.jpg" alt="Photo sonde aspi rouge (ch. 18)" width="80"></td>
  <td id="stock-consommables-88">0</td>
  <td>5</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-88', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-88', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-89" style="display: none;">
  <td>sonde aspi verte (ch. 14)</td>
  <td><img src="images/sonde14.jpg" alt="Photo sonde aspi verte (ch. 14)" width="80"></td>
  <td id="stock-consommables-89">0</td>
  <td>5</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-89', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-89', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-90" style="display: none;">
  <td>royco</td>
  <td><img src="images/royco.jpg" alt="Photo royco" width="80"></td>
  <td id="stock-consommables-90">0</td>
  <td>2</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-90', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-90', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-91" style="display: none;">
  <td>Speedblock</td>
  <td><img src="images/speedblock.jpg" alt="Photo Speedblock" width="80"></td>
  <td id="stock-consommables-91">0</td>
  <td>5</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-91', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-91', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-92" style="display: none;">
  <td>stethoscope</td>
  <td><img src="images/stethoscope.jpg" alt="Photo stethoscope" width="80"></td>
  <td id="stock-consommables-92">0</td>
  <td>1</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-92', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-92', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-93" style="display: none;">
  <td>tensiomètre adulte</td>
  <td><img src="images/tensiometre_adulte.jpg" alt="Photo tensiomètre adulte" width="80"></td>
  <td id="stock-consommables-93">0</td>
  <td>1</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-93', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-93', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-94" style="display: none;">
  <td>tensiomètre baria</td>
  <td><img src="images/tensiometre_baria.jpg" alt="Photo tensiomètre baria" width="80"></td>
  <td id="stock-consommables-94">0</td>
  <td>1</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-94', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-94', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-95" style="display: none;">
  <td>tensiometre pédia</td>
  <td><img src="images/tensiometre_pedia.jpg" alt="Photo tensiometre pédia" width="80"></td>
  <td id="stock-consommables-95">0</td>
  <td>1</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-95', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-95', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-96" style="display: none;">
  <td>Thermomètre</td>
  <td><img src="images/thermometre.jpg" alt="Photo Thermomètre" width="80"></td>
  <td id="stock-consommables-96">0</td>
  <td>1</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-96', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-96', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-97" style="display: none;">
  <td>tigette gluco</td>
  <td><img src="images/tigette_gluco.jpg" alt="Photo tigette gluco" width="80"></td>
  <td id="stock-consommables-97">0</td>
  <td>5</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-97', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-97', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-98" style="display: none;">
  <td>touillette</td>
  <td><img src="images/touillette.jpg" alt="Photo touillette" width="80"></td>
  <td id="stock-consommables-98">0</td>
  <td>1</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-98', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-98', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-99" style="display: none;">
  <td>trousse robinet perf</td>
  <td><img src="images/robinet_perf.jpg" alt="Photo trousse robinet perf" width="80"></td>
  <td id="stock-consommables-99">0</td>
  <td>3</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-99', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-99', -1)">-</button>
  </td>
</tr>
<tr class="article-row consommables" data-id="consommables-100" style="display: none;">
  <td>tuyau d'aspi</td>
  <td><img src="images/tuyauaspi.jpg" alt="Photo tuyau d'aspi" width="80"></td>
  <td id="stock-consommables-100">0</td>
  <td>10</td>
  <td>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-100', 1)">+</button>
    <button class="stock-button" onclick="updateStockAndFirestore('consommables-100', -1)">-</button>
  </td>
</tr> 
        <!-- Désinfection -->
        <tr class="category-header" data-category="desinfection" onclick="toggleCategory('desinfection')">
          <td colspan="5">Désinfection <span id="toggle-desinfection" style="float:right;">[+]</span></td>
        </tr>
        <tr class="article-row desinfection" data-id="desinfection-1" style="display: none;">
          <td>air citrea</td>
          <td><img src="images/citrea.jpg" alt="Photo air citrea" width="80"></td>
          <td id="stock-desinfection-1">0</td>
          <td>1</td>
          <td>
            <button class="stock-button" onclick="updateStockAndFirestore('desinfection-1', 1)">+</button>
            <button class="stock-button" onclick="updateStockAndFirestore('desinfection-1', -1)">-</button>
          </td>
        </tr>
        <tr class="article-row desinfection" data-id="desinfection-2" style="display: none;">
          <td>dettol</td>
          <td><img src="images/dettol.jpg" alt="Photo dettol" width="80"></td>
          <td id="stock-desinfection-2">0</td>
          <td>3</td>
          <td>
            <button class="stock-button" onclick="updateStockAndFirestore('desinfection-2', 1)">+</button>
            <button class="stock-button" onclick="updateStockAndFirestore('desinfection-2', -1)">-</button>
          </td>
        </tr>
        <tr class="article-row desinfection" data-id="desinfection-3" style="display: none;">
          <td>lunette protection</td>
          <td><img src="images/lunette3m.jpg" alt="Photo lunette protection" width="80"></td>
          <td id="stock-desinfection-3">0</td>
          <td>2</td>
          <td>
            <button class="stock-button" onclick="updateStockAndFirestore('desinfection-3', 1)">+</button>
            <button class="stock-button" onclick="updateStockAndFirestore('desinfection-3', -1)">-</button>
          </td>
        </tr>
        <tr class="article-row desinfection" data-id="desinfection-4" style="display: none;">
          <td>sterilium gel</td>
          <td><img src="images/sterilium.jpg" alt="Photo sterilium gel" width="80"></td>
          <td id="stock-desinfection-4">0</td>
          <td>5</td>
          <td>
            <button class="stock-button" onclick="updateStockAndFirestore('desinfection-4', 1)">+</button>
            <button class="stock-button" onclick="updateStockAndFirestore('desinfection-4', -1)">-</button>
          </td>
        </tr>
        <tr class="article-row desinfection" data-id="desinfection-5" style="display: none;">
          <td>umonium concentré</td>
          <td><img src="images/umo_con.jpg" alt="Photo umonium concentré" width="80"></td>
          <td id="stock-desinfection-5">0</td>
          <td>3</td>
          <td>
            <button class="stock-button" onclick="updateStockAndFirestore('desinfection-5', 1)">+</button>
            <button class="stock-button" onclick="updateStockAndFirestore('desinfection-5', -1)">-</button>
          </td>
        </tr>
        <tr class="article-row desinfection" data-id="desinfection-6" style="display: none;">
          <td>umonium spray</td>
          <td><img src="images/umo_spray.jpg" alt="Photo umonium spray" width="80"></td>
          <td id="stock-desinfection-6">0</td>
          <td>3</td>
          <td>
            <button class="stock-button" onclick="updateStockAndFirestore('desinfection-6', 1)">+</button>
            <button class="stock-button" onclick="updateStockAndFirestore('desinfection-6', -1)">-</button>
          </td>
        </tr>
        
        <!-- Divers -->
        <tr class="category-header" data-category="divers" onclick="toggleCategory('divers')">
          <td colspan="5">Divers <span id="toggle-divers" style="float:right;">[+]</span></td>
        </tr>
        <tr class="article-row divers" data-id="divers-1" style="display: none;">
          <td>attelle sam</td>
          <td><img src="images/sam.jpg" alt="Photo attelle sam" width="80"></td>
          <td id="stock-divers-1">0</td>
          <td>1</td>
          <td>
            <button class="stock-button" onclick="updateStockAndFirestore('divers-1', 1)">+</button>
            <button class="stock-button" onclick="updateStockAndFirestore('divers-1', -1)">-</button>
          </td>
        </tr>
        <tr class="article-row divers" data-id="divers-2" style="display: none;">
          <td>autocollants tpmr</td>
          <td><img src="images/tpmr.jpg" alt="Photo autocollants tpmr" width="80"></td>
          <td id="stock-divers-2">0</td>
          <td>1</td>
          <td>
            <button class="stock-button" onclick="updateStockAndFirestore('divers-2', 1)">+</button>
            <button class="stock-button" onclick="updateStockAndFirestore('divers-2', -1)">-</button>
          </td>
        </tr>
        <tr class="article-row divers" data-id="divers-3" style="display: none;">
          <td>cable DEFA</td>
          <td><img src="images/defa.jpg" alt="Photo cable DEFA" width="80"></td>
          <td id="stock-divers-3">0</td>
          <td>1</td>
          <td>
            <button class="stock-button" onclick="updateStockAndFirestore('divers-3', 1)">+</button>
            <button class="stock-button" onclick="updateStockAndFirestore('divers-3', -1)">-</button>
          </td>
        </tr>
        <tr class="article-row divers" data-id="divers-4" style="display: none;">
          <td>calmiderm</td>
          <td><img src="images/calmi.jpg" alt="Photo calmiderm" width="80"></td>
          <td id="stock-divers-4">0</td>
          <td>3</td>
          <td>
            <button class="stock-button" onclick="updateStockAndFirestore('divers-4', 1)">+</button>
            <button class="stock-button" onclick="updateStockAndFirestore('divers-4', -1)">-</button>
          </td>
        </tr>
        <tr class="article-row divers" data-id="divers-5" style="display: none;">
          <td>carnet kilometrique ambu</td>
          <td><img src="images/km_ambu.jpg" alt="Photo carnet kilometrique ambu" width="80"></td>
          <td id="stock-divers-5">0</td>
          <td>5</td>
          <td>
            <button class="stock-button" onclick="updateStockAndFirestore('divers-5', 1)">+</button>
            <button class="stock-button" onclick="updateStockAndFirestore('divers-5', -1)">-</button>
          </td>
        </tr>
        <tr class="article-row divers" data-id="divers-6" style="display: none;">
          <td>carnet kilometrique tpmr</td>
          <td><img src="images/km_tpmr.jpg" alt="Photo carnet kilometrique tpmr" width="80"></td>
          <td id="stock-divers-6">0</td>
          <td>2</td>
          <td>
            <button class="stock-button" onclick="updateStockAndFirestore('divers-6', 1)">+</button>
            <button class="stock-button" onclick="updateStockAndFirestore('divers-6', -1)">-</button>
          </td>
        </tr>
        <tr class="article-row divers" data-id="divers-7" style="display: none;">
          <td>Checklist</td>
          <td><img src="images/check.jpg" alt="Photo Checklist" width="80"></td>
          <td id="stock-divers-7">0</td>
          <td>5</td>
          <td>
            <button class="stock-button" onclick="updateStockAndFirestore('divers-7', 1)">+</button>
            <button class="stock-button" onclick="updateStockAndFirestore('divers-7', -1)">-</button>
          </td>
        </tr>
        <tr class="article-row divers" data-id="divers-8" style="display: none;">
          <td>constat européen d'accident</td>
          <td><img src="images/cea.jpg" alt="Photo constat européen d'accident" width="80"></td>
          <td id="stock-divers-8">0</td>
          <td>5</td>
          <td>
            <button class="stock-button" onclick="updateStockAndFirestore('divers-8', 1)">+</button>
            <button class="stock-button" onclick="updateStockAndFirestore('divers-8', -1)">-</button>
          </td>
        </tr>
        <tr class="article-row divers" data-id="divers-9" style="display: none;">
          <td>drapeau CRB</td>
          <td><img src="images/drapeau.jpg" alt="Photo drapeau CRB" width="80"></td>
          <td id="stock-divers-9">0</td>
          <td>0</td>
          <td>
            <button class="stock-button" onclick="updateStockAndFirestore('divers-9', 1)">+</button>
            <button class="stock-button" onclick="updateStockAndFirestore('divers-9', -1)">-</button>
          </td>
        </tr>
        <tr class="article-row divers" data-id="divers-10" style="display: none;">
          <td>extrapan</td>
          <td><img src="images/extrapan.jpg" alt="Photo extrapan" width="80"></td>
          <td id="stock-divers-10">0</td>
          <td>3</td>
          <td>
            <button class="stock-button" onclick="updateStockAndFirestore('divers-10', 1)">+</button>
            <button class="stock-button" onclick="updateStockAndFirestore('divers-10', -1)">-</button>
          </td>
        </tr>
        <tr class="article-row divers" data-id="divers-11" style="display: none;">
          <td>flamigel</td>
          <td><img src="images/flamigel.jpg" alt="Photo flamigel" width="80"></td>
          <td id="stock-divers-11">0</td>
          <td>3</td>
          <td>
            <button class="stock-button" onclick="updateStockAndFirestore('divers-11', 1)">+</button>
            <button class="stock-button" onclick="updateStockAndFirestore('divers-11', -1)">-</button>
          </td>
        </tr>
        <tr class="article-row divers" data-id="divers-12" style="display: none;">
          <td>medica</td>
          <td><img src="images/medica.jpg" alt="Photo medica" width="80"></td>
          <td id="stock-divers-12">0</td>
          <td>1</td>
          <td>
            <button class="stock-button" onclick="updateStockAndFirestore('divers-12', 1)">+</button>
            <button class="stock-button" onclick="updateStockAndFirestore('divers-12', -1)">-</button>
          </td>
        </tr>
        <tr class="article-row divers" data-id="divers-13" style="display: none;">
          <td>pocket masque</td>
          <td><img src="images/pocket.jpg" alt="Photo pocket masque" width="80"></td>
          <td id="stock-divers-13">0</td>
          <td>1</td>
          <td>
            <button class="stock-button" onclick="updateStockAndFirestore('divers-13', 1)">+</button>
            <button class="stock-button" onclick="updateStockAndFirestore('divers-13', -1)">-</button>
          </td>
        </tr>
        <tr class="article-row divers" data-id="divers-14" style="display: none;">
          <td>rallonge multiprise</td>
          <td><img src="images/rallonge.jpg" alt="Photo rallonge multiprise" width="80"></td>
          <td id="stock-divers-14">0</td>
          <td>0</td>
          <td>
            <button class="stock-button" onclick="updateStockAndFirestore('divers-14', 1)">+</button>
            <button class="stock-button" onclick="updateStockAndFirestore('divers-14', -1)">-</button>
          </td>
        </tr>
        <tr class="article-row divers" data-id="divers-15" style="display: none;">
          <td>sangle kaki civiere</td>
          <td><img src="" alt="Photo sangle kaki civiere" width="80"></td>
          <td id="stock-divers-15">0</td>
          <td>2</td>
          <td>
            <button class="stock-button" onclick="updateStockAndFirestore('divers-15', 1)">+</button>
            <button class="stock-button" onclick="updateStockAndFirestore('divers-15', -1)">-</button>
          </td>
        </tr>
        <tr class="article-row divers" data-id="divers-16" style="display: none;">
          <td>saturomètre masimo</td>
          <td><img src="images/satu.jpg" alt="Photo saturomètre masimo" width="80"></td>
          <td id="stock-divers-16">0</td>
          <td>1</td>
          <td>
            <button class="stock-button" onclick="updateStockAndFirestore('divers-16', 1)">+</button>
            <button class="stock-button" onclick="updateStockAndFirestore('divers-16', -1)">-</button>
          </td>
        </tr>
        
        <!-- Entretien -->
        <tr class="category-header" data-category="entretien" onclick="toggleCategory('entretien')">
          <td colspan="5">Entretien <span id="toggle-entretien" style="float:right;">[+]</span></td>
        </tr>
        <tr class="article-row entretien" data-id="entretien-1" style="display: none;">
          <td>adoucissant</td>
          <td><img src="images/adoucissant.jpg" alt="Photo adoucissant" width="80"></td>
          <td id="stock-entretien-1">0</td>
          <td>3</td>
          <td>
            <button class="stock-button" onclick="updateStockAndFirestore('entretien-1', 1)">+</button>
            <button class="stock-button" onclick="updateStockAndFirestore('entretien-1', -1)">-</button>
          </td>
        </tr>
        <tr class="article-row entretien" data-id="entretien-2" style="display: none;">
          <td>bloc wc</td>
          <td><img src="images/bloc_wc.jpg" alt="Photo bloc wc" width="80"></td>
          <td id="stock-entretien-2">0</td>
          <td>1</td>
          <td>
            <button class="stock-button" onclick="updateStockAndFirestore('entretien-2', 1)">+</button>
            <button class="stock-button" onclick="updateStockAndFirestore('entretien-2', -1)">-</button>
          </td>
        </tr>
        <tr class="article-row entretien" data-id="entretien-3" style="display: none;">
          <td>degraissant pro</td>
          <td><img src="images/degraissant.jpg" alt="Photo degraissant pro" width="80"></td>
          <td id="stock-entretien-3">0</td>
          <td>1</td>
          <td>
            <button class="stock-button" onclick="updateStockAndFirestore('entretien-3', 1)">+</button>
            <button class="stock-button" onclick="updateStockAndFirestore('entretien-3', -1)">-</button>
          </td>
        </tr>
        <tr class="article-row entretien" data-id="entretien-4" style="display: none;">
          <td>degivrant vitre</td>
          <td><img src="images/degivrant.jpg" alt="Photo degivrant vitre" width="80"></td>
          <td id="stock-entretien-4">0</td>
          <td>2</td>
          <td>
            <button class="stock-button" onclick="updateStockAndFirestore('entretien-4', 1)">+</button>
            <button class="stock-button" onclick="updateStockAndFirestore('entretien-4', -1)">-</button>
          </td>
        </tr>
        <tr class="article-row entretien" data-id="entretien-5" style="display: none;">
          <td>désodorisant</td>
          <td><img src="images/deso.jpg" alt="Photo désodorisant" width="80"></td>
          <td id="stock-entretien-5">0</td>
          <td>2</td>
          <td>
            <button class="stock-button" onclick="updateStockAndFirestore('entretien-5', 1)">+</button>
            <button class="stock-button" onclick="updateStockAndFirestore('entretien-5', -1)">-</button>
          </td>
        </tr>
        <tr class="article-row entretien" data-id="entretien-6" style="display: none;">
          <td>destop</td>
          <td><img src="images/destop.jpg" alt="Photo destop" width="80"></td>
          <td id="stock-entretien-6">0</td>
          <td>2</td>
          <td>
            <button class="stock-button" onclick="updateStockAndFirestore('entretien-6', 1)">+</button>
            <button class="stock-button" onclick="updateStockAndFirestore('entretien-6', -1)">-</button>
          </td>
        </tr>
        <tr class="article-row entretien" data-id="entretien-7" style="display: none;">
          <td>eponge</td>
          <td><img src="images/eponge.jpg" alt="Photo eponge" width="80"></td>
          <td id="stock-entretien-7">0</td>
          <td>3</td>
          <td>
            <button class="stock-button" onclick="updateStockAndFirestore('entretien-7', 1)">+</button>
            <button class="stock-button" onclick="updateStockAndFirestore('entretien-7', -1)">-</button>
          </td>
        </tr>
        <tr class="article-row entretien" data-id="entretien-8" style="display: none;">
          <td>gel wc</td>
          <td><img src="images/gel_wc.jpg" alt="Photo gel wc" width="80"></td>
          <td id="stock-entretien-8">0</td>
          <td>3</td>
          <td>
            <button class="stock-button" onclick="updateStockAndFirestore('entretien-8', 1)">+</button>
            <button class="stock-button" onclick="updateStockAndFirestore('entretien-8', -1)">-</button>
          </td>
        </tr>
        <tr class="article-row entretien" data-id="entretien-9" style="display: none;">
          <td>javel</td>
          <td><img src="images/javel.jpg" alt="Photo javel" width="80"></td>
          <td id="stock-entretien-9">0</td>
          <td>3</td>
          <td>
            <button class="stock-button" onclick="updateStockAndFirestore('entretien-9', 1)">+</button>
            <button class="stock-button" onclick="updateStockAndFirestore('entretien-9', -1)">-</button>
          </td>
        </tr>
        <tr class="article-row entretien" data-id="entretien-10" style="display: none;">
          <td>lessive liquide</td>
          <td><img src="images/lessive_liquide.jpg" alt="Photo lessive liquide" width="80"></td>
          <td id="stock-entretien-10">0</td>
          <td>3</td>
          <td>
            <button class="stock-button" onclick="updateStockAndFirestore('entretien-10', 1)">+</button>
            <button class="stock-button" onclick="updateStockAndFirestore('entretien-10', -1)">-</button>
          </td>
        </tr>
        <tr class="article-row entretien" data-id="entretien-11" data-barcode="5400141193657" style="display: none;">
          <td>liquide vaisselle</td>
          <td><img src="images/liquide_vaisselle.jpg" alt="Photo liquide vaisselle" width="80"></td>
          <td id="stock-entretien-11">0</td>
          <td>2</td>
          <td>
            <button class="stock-button" onclick="updateStockAndFirestore('entretien-11', 1)">+</button>
            <button class="stock-button" onclick="updateStockAndFirestore('entretien-11', -1)">-</button>
          </td>
        </tr>
        <tr class="article-row entretien" data-id="entretien-12" style="display: none;">
          <td>nettoyant sol</td>
          <td><img src="images/sol.jpg" alt="Photo nettoyant sol" width="80"></td>
          <td id="stock-entretien-12">0</td>
          <td>2</td>
          <td>
            <button class="stock-button" onclick="updateStockAndFirestore('entretien-12', 1)">+</button>
            <button class="stock-button" onclick="updateStockAndFirestore('entretien-12', -1)">-</button>
          </td>
        </tr>
        <tr class="article-row entretien" data-id="entretien-13" style="display: none;">
          <td>nettoyant vitre</td>
          <td><img src="images/vitre.jpg" alt="Photo nettoyant vitre" width="80"></td>
          <td id="stock-entretien-13">0</td>
          <td>2</td>
          <td>
            <button class="stock-button" onclick="updateStockAndFirestore('entretien-13', 1)">+</button>
            <button class="stock-button" onclick="updateStockAndFirestore('entretien-13', -1)">-</button>
          </td>
        </tr>
        <tr class="article-row entretien" data-id="entretien-14" style="display: none;">
          <td>papier tork</td>
          <td><img src="images/tork.jpg" alt="Photo papier tork" width="80"></td>
          <td id="stock-entretien-14">0</td>
          <td>10</td>
          <td>
            <button class="stock-button" onclick="updateStockAndFirestore('entretien-14', 1)">+</button>
            <button class="stock-button" onclick="updateStockAndFirestore('entretien-14', -1)">-</button>
          </td>
        </tr>
        <tr class="article-row entretien" data-id="entretien-15" style="display: none;">
          <td>papier UU</td>
          <td><img src="images/papier_uu.jpg" alt="Photo papier UU" width="80"></td>
          <td id="stock-entretien-15">0</td>
          <td>10</td>
          <td>
            <button class="stock-button" onclick="updateStockAndFirestore('entretien-15', 1)">+</button>
            <button class="stock-button" onclick="updateStockAndFirestore('entretien-15', -1)">-</button>
          </td>
        </tr>
        <tr class="article-row entretien" data-id="entretien-16" style="display: none;">
          <td>papier wc</td>
          <td><img src="images/pq.jpg" alt="Photo papier wc" width="80"></td>
          <td id="stock-entretien-16">0</td>
          <td>2</td>
          <td>
            <button class="stock-button" onclick="updateStockAndFirestore('entretien-16', 1)">+</button>
            <button class="stock-button" onclick="updateStockAndFirestore('entretien-16', -1)">-</button>
          </td>
        </tr>
        <tr class="article-row entretien" data-id="entretien-17" style="display: none;">
          <td>sac ling contaminé rouge</td>
          <td><img src="images/sac_rouge.jpg" alt="Photo sac ling contaminé rouge" width="80"></td>
          <td id="stock-entretien-17">0</td>
          <td>2</td>
          <td>
            <button class="stock-button" onclick="updateStockAndFirestore('entretien-17', 1)">+</button>
            <button class="stock-button" onclick="updateStockAndFirestore('entretien-17', -1)">-</button>
          </td>
        </tr>
        <tr class="article-row entretien" data-id="entretien-18" style="display: none;">
          <td>sac linge contaminé jaune</td>
          <td><img src="images/sac_jaune.jpg" alt="Photo sac linge contaminé jaune" width="80"></td>
          <td id="stock-entretien-18">0</td>
          <td>2</td>
          <td>
            <button class="stock-button" onclick="updateStockAndFirestore('entretien-18', 1)">+</button>
            <button class="stock-button" onclick="updateStockAndFirestore('entretien-18', -1)">-</button>
          </td>
        </tr>
        <tr class="article-row entretien" data-id="entretien-19" style="display: none;">
          <td>sac pmc</td>
          <td><img src="images/sac_pmc.jpg" alt="Photo sac pmc" width="80"></td>
          <td id="stock-entretien-19">0</td>
          <td>3</td>
          <td>
            <button class="stock-button" onclick="updateStockAndFirestore('entretien-19', 1)">+</button>
            <button class="stock-button" onclick="updateStockAndFirestore('entretien-19', -1)">-</button>
          </td>
        </tr>
        <tr class="article-row entretien" data-id="entretien-20" style="display: none;">
          <td>sac poubelle ambu</td>
          <td><img src="images/sac_ambu.jpg" alt="Photo sac poubelle ambu" width="80"></td>
          <td id="stock-entretien-20">0</td>
          <td>5</td>
          <td>
            <button class="stock-button" onclick="updateStockAndFirestore('entretien-20', 1)">+</button>
            <button class="stock-button" onclick="updateStockAndFirestore('entretien-20', -1)">-</button>
          </td>
        </tr>
        <tr class="article-row entretien" data-id="entretien-21" style="display: none;">
          <td>sac poubelle noir</td>
          <td><img src="images/sac_noir.jpg" alt="Photo sac poubelle noir" width="80"></td>
          <td id="stock-entretien-21">0</td>
          <td>5</td>
          <td>
            <button class="stock-button" onclick="updateStockAndFirestore('entretien-21', 1)">+</button>
            <button class="stock-button" onclick="updateStockAndFirestore('entretien-21', -1)">-</button>
          </td>
        </tr>
        <tr class="article-row entretien" data-id="entretien-22" style="display: none;">
          <td>savon main</td>
          <td><img src="images/savon_main.jpg" alt="Photo savon main" width="80"></td>
          <td id="stock-entretien-22">0</td>
          <td>3</td>
          <td>
            <button class="stock-button" onclick="updateStockAndFirestore('entretien-22', 1)">+</button>
            <button class="stock-button" onclick="updateStockAndFirestore('entretien-22', -1)">-</button>
          </td>
        </tr>
        <tr class="article-row entretien" data-id="entretien-23" style="display: none;">
          <td>torchon</td>
          <td><img src="images/torchon.jpg" alt="Photo torchon" width="80"></td>
          <td id="stock-entretien-23">0</td>
          <td>10</td>
          <td>
            <button class="stock-button" onclick="updateStockAndFirestore('entretien-23', 1)">+</button>
            <button class="stock-button" onclick="updateStockAndFirestore('entretien-23', -1)">-</button>
          </td>
        </tr>
        
        <!-- Garage -->
        <tr class="category-header" data-category="garage" onclick="toggleCategory('garage')">
          <td colspan="5">Garage <span id="toggle-garage" style="float:right;">[+]</span></td>
        </tr>
        <tr class="article-row garage" data-id="garage-1" style="display: none;">
          <td>ad blue</td>
          <td><img src="images/adblue.jpg" alt="Photo ad blue" width="80"></td>
          <td id="stock-garage-1">0</td>
          <td>3</td>
          <td>
            <button class="stock-button" onclick="updateStockAndFirestore('garage-1', 1)">+</button>
            <button class="stock-button" onclick="updateStockAndFirestore('garage-1', -1)">-</button>
          </td>
        </tr>
        <tr class="article-row garage" data-id="garage-2" style="display: none;">
          <td>allèse UU</td>
          <td><img src="images/allese.jpg" alt="Photo allèse UU" width="80"></td>
          <td id="stock-garage-2">0</td>
          <td>3</td>
          <td>
            <button class="stock-button" onclick="updateStockAndFirestore('garage-2', 1)">+</button>
            <button class="stock-button" onclick="updateStockAndFirestore('garage-2', -1)">-</button>
          </td>
        </tr>
        <tr class="article-row garage" data-id="garage-3" style="display: none;">
          <td>bouteilles d'eau</td>
          <td><img src="images/eau.jpg" alt="Photo bouteilles d'eau" width="80"></td>
          <td id="stock-garage-3">0</td>
          <td>30</td>
          <td>
            <button class="stock-button" onclick="updateStockAndFirestore('garage-3', 1)">+</button>
            <button class="stock-button" onclick="updateStockAndFirestore('garage-3', -1)">-</button>
          </td>
        </tr>
        <tr class="article-row garage" data-id="garage-4" style="display: none;">
          <td>casque sécu secouriste</td>
          <td><img src="images/casque.jpg" alt="Photo casque sécu secouriste" width="80"></td>
          <td id="stock-garage-4">0</td>
          <td>10</td>
          <td>
            <button class="stock-button" onclick="updateStockAndFirestore('garage-4', 1)">+</button>
            <button class="stock-button" onclick="updateStockAndFirestore('garage-4', -1)">-</button>
          </td>
        </tr>
        <tr class="article-row garage" data-id="garage-5" style="display: none;">
          <td>couverture UU</td>
          <td><img src="images/couverture.jpg" alt="Photo couverture UU" width="80"></td>
          <td id="stock-garage-5">0</td>
          <td>3</td>
          <td>
            <button class="stock-button" onclick="updateStockAndFirestore('garage-5', 1)">+</button>
            <button class="stock-button" onclick="updateStockAndFirestore('garage-5', -1)">-</button>
          </td>
        </tr>
        <tr class="article-row garage" data-id="garage-6" style="display: none;">
          <td>lave glace été</td>
          <td><img src="images/ete.jpg" alt="Photo lave glace été" width="80"></td>
          <td id="stock-garage-6">0</td>
          <td>3</td>
          <td>
            <button class="stock-button" onclick="updateStockAndFirestore('garage-6', 1)">+</button>
            <button class="stock-button" onclick="updateStockAndFirestore('garage-6', -1)">-</button>
          </td>
        </tr>
        <tr class="article-row garage" data-id="garage-7" style="display: none;">
          <td>lave glace hiver</td>
          <td><img src="images/hiver.jpg" alt="Photo lave glace hiver" width="80"></td>
          <td id="stock-garage-7">0</td>
          <td>3</td>
          <td>
            <button class="stock-button" onclick="updateStockAndFirestore('garage-7', 1)">+</button>
            <button class="stock-button" onclick="updateStockAndFirestore('garage-7', -1)">-</button>
          </td>
        </tr>
        <tr class="article-row garage" data-id="garage-8" style="display: none;">
          <td>salopettes protection UU</td>
          <td><img src="images/salopette_uu.jpg" alt="Photo salopettes protection UU" width="80"></td>
          <td id="stock-garage-8">0</td>
          <td>50</td>
          <td>
            <button class="stock-button" onclick="updateStockAndFirestore('garage-8', 1)">+</button>
            <button class="stock-button" onclick="updateStockAndFirestore('garage-8', -1)">-</button>
          </td>
        </tr>
        <tr class="article-row garage" data-id="garage-9" style="display: none;">
          <td>shampoing carrosserie</td>
          <td><img src="images/carrosserie.jpg" alt="Photo shampoing carrosserie" width="80"></td>
          <td id="stock-garage-9">0</td>
          <td>3</td>
          <td>
            <button class="stock-button" onclick="updateStockAndFirestore('garage-9', 1)">+</button>
            <button class="stock-button" onclick="updateStockAndFirestore('garage-9', -1)">-</button>
          </td>
        </tr>
        <tr class="article-row garage" data-id="garage-10" style="display: none;">
          <td>tablier protection MRSA jaune</td>
          <td><img src="images/tablier.jpg" alt="Photo tablier protection MRSA jaune" width="80"></td>
          <td id="stock-garage-10">0</td>
          <td>20</td>
          <td>
            <button class="stock-button" onclick="updateStockAndFirestore('garage-10', 1)">+</button>
            <button class="stock-button" onclick="updateStockAndFirestore('garage-10', -1)">-</button>
          </td>
        </tr>
      </tbody>
    </table>
    
    <!-- Bouton Générer PDF -->
    <div class="button-container">
      <button class="pdf-button" onclick="generatePDF()">Générer le PDF</button>
    </div>
    
    <!-- Modal pour le scanner -->
    <div id="scannerModal">
      <div id="scannerContent">
        <h2>Scanner le code-barres</h2>
        <video id="video" width="100%" autoplay></video>
        <br>
        <button class="pdf-button" onclick="closeScanner()">Fermer</button>
      </div>
    </div>
    
    <!-- Modal pour les recommandations -->
    <div id="recommandationModal">
      <div id="recommandationContent">
        <h2>Articles à recommander</h2>
        <div id="recommendationList"></div>
        <br>
        <button class="pdf-button" onclick="generatePDFRecommendations()">Générer le PDF</button>
        <button class="pdf-button" onclick="closeRecommendations()">Fermer</button>
      </div>
    </div>
  </div>
  
  <!-- Inclusions de jsPDF et html2canvas -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  
  <!-- Fonctions d'interface (expand, collapse, toggle, search, etc.) -->
  <script>
    // Bascule l'affichage d'une catégorie via le header
    function toggleCategory(category) {
      const rows = document.getElementsByClassName(category);
      const toggleSpan = document.getElementById("toggle-" + category);
      for (let i = 0; i < rows.length; i++) {
        rows[i].style.display = (rows[i].style.display === "none") ? "table-row" : "none";
      }
      toggleSpan.textContent = (toggleSpan.textContent === "[+]") ? "[-]" : "[+]";
    }
    window.toggleCategory = toggleCategory;
    
    // Affiche toutes les lignes
    function expandAll() {
      const articleRows = document.querySelectorAll(".article-row");
      articleRows.forEach(row => row.style.display = "table-row");
      const toggleSpans = document.querySelectorAll('[id^="toggle-"]');
      toggleSpans.forEach(span => span.textContent = "[-]");
    }
    window.expandAll = expandAll;
    
    // Cache toutes les lignes
    function collapseAll() {
      const articleRows = document.querySelectorAll(".article-row");
      articleRows.forEach(row => row.style.display = "none");
      const toggleSpans = document.querySelectorAll('[id^="toggle-"]');
      toggleSpans.forEach(span => span.textContent = "[+]");
    }
    window.collapseAll = collapseAll;
    
    // Recherche d'articles
    function searchArticles() {
      const filter = document.getElementById("searchInput").value.toUpperCase();
      const articleRows = document.querySelectorAll(".article-row");
      articleRows.forEach(row => {
        const cell = row.cells[0];
        if (cell) {
          const txtValue = cell.textContent || cell.innerText;
          row.style.display = (txtValue.toUpperCase().includes(filter)) ? "table-row" : "none";
        }
      });
    }
    window.searchArticles = searchArticles;
    
    // Affiche le modal des recommandations
    function showRecommendations() {
      const articleRows = document.querySelectorAll(".article-row");
      const recommendations = [];
      articleRows.forEach(row => {
        const cells = row.getElementsByTagName("td");
        if (cells.length >= 4) {
          const nom = cells[0].innerText;
          const stock = parseInt(cells[2].innerText);
          const min = parseInt(cells[3].innerText);
          if (stock <= min) {
            recommendations.push(nom + " (Stock: " + stock + " / Min: " + min + ")");
          }
        }
      });
      const recommendationList = document.getElementById("recommendationList");
      if (recommendations.length === 0) {
        recommendationList.innerHTML = "<p>Aucun article à recommander.</p>";
      } else {
        let htmlList = "<ul>";
        recommendations.forEach(item => htmlList += "<li>" + item + "</li>");
        htmlList += "</ul>";
        recommendationList.innerHTML = htmlList;
      }
      document.getElementById("recommandationModal").style.display = "block";
    }
    window.showRecommendations = showRecommendations;
    
    function closeRecommendations() {
      document.getElementById("recommandationModal").style.display = "none";
    }
    window.closeRecommendations = closeRecommendations;
    
    // Ouvre le scanner (redirection vers scanner.html)
    function openScanner() {
      window.location.href = "scanner.html";
    }
    window.openScanner = openScanner;
    
    // Génère le PDF de l'inventaire complet
    function generatePDF() {
      const element = document.getElementById("pdfContent");
      html2canvas(element, { useCORS: true, scale: 1, allowTaint: true }).then(canvas => {
        const imgData = canvas.toDataURL("image/jpeg", 0.7);
        const { jsPDF } = window.jspdf;
        const pdf = new jsPDF("p", "mm", "a4");
        const pageWidth = pdf.internal.pageSize.getWidth();
        const pageHeight = pdf.internal.pageSize.getHeight();
        const imgProps = pdf.getImageProperties(imgData);
        const imgWidth = pageWidth;
        const imgHeight = (imgProps.height * imgWidth) / imgProps.width;
        let heightLeft = imgHeight;
        let position = 0;
        pdf.addImage(imgData, "JPEG", 0, position, imgWidth, imgHeight);
        heightLeft -= pageHeight;
        while (heightLeft > 0) {
          position = heightLeft - imgHeight;
          pdf.addPage();
          pdf.addImage(imgData, "JPEG", 0, position, imgWidth, imgHeight);
          heightLeft -= pageHeight;
        }
        pdf.save("inventaire_reserve.pdf");
      });
    }
    window.generatePDF = generatePDF;
    
    // Génère un PDF pour le modal recommandations
    function generatePDFRecommendations() {
      const element = document.getElementById("recommandationContent");
      const originalMaxHeight = element.style.maxHeight;
      const originalOverflowY = element.style.overflowY;
      element.style.maxHeight = "none";
      element.style.overflowY = "visible";
      html2canvas(element, { useCORS: true, scale: 2 }).then(canvas => {
        element.style.maxHeight = originalMaxHeight;
        element.style.overflowY = originalOverflowY;
        const imgData = canvas.toDataURL("image/jpeg", 1.0);
        const { jsPDF } = window.jspdf;
        const pdf = new jsPDF("p", "mm", "a4");
        const pageWidth = pdf.internal.pageSize.getWidth();
        const pageHeight = pdf.internal.pageSize.getHeight();
        const imgProps = pdf.getImageProperties(imgData);
        const imgWidth = pageWidth;
        const imgHeight = (imgProps.height * imgWidth) / imgProps.width;
        let heightLeft = imgHeight;
        let position = 0;
        pdf.addImage(imgData, "JPEG", 0, position, imgWidth, imgHeight);
        heightLeft -= pageHeight;
        while (heightLeft > 0) {
          position = heightLeft - imgHeight;
          pdf.addPage();
          pdf.addImage(imgData, "JPEG", 0, position, imgWidth, imgHeight);
          heightLeft -= pageHeight;
        }
        pdf.save("articles_a_recommander.pdf");
      });
    }
    window.generatePDFRecommendations = generatePDFRecommendations;
  </script>
  
  <!-- Module Firebase et synchronisation -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.8/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.6.8/firebase-analytics.js";
    import {
      getFirestore,
      collection,
      doc,
      getDoc,
      setDoc,
      updateDoc,
      onSnapshot
    } from "https://www.gstatic.com/firebasejs/9.6.8/firebase-firestore.js";
    import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/9.6.8/firebase-auth.js";

    const firebaseConfig = {
      apiKey: "AIzaSyBa95NS-_TApkErWgkfhTzRhOyKss5W2aU",
      authDomain: "listing-44b2b.firebaseapp.com",
      projectId: "listing-44b2b",
      storageBucket: "listing-44b2b.firebasestorage.app",
      messagingSenderId: "310030019842",
      appId: "1:310030019842:web:c8a50b61f3dfbcb867e61b",
      measurementId: "G-419VVR3NHE"
    };

    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);
    const db = getFirestore(app);
    const auth = getAuth();

    function updateStockFirestoreModule(productId, delta) {
      const productRef = doc(db, "inventory", productId);
      getDoc(productRef)
        .then(docSnap => {
          let currentStock = 0;
          if (docSnap.exists()) {
            currentStock = docSnap.data().stock;
          }
          let newStock = currentStock + delta;
          if (newStock < 0) newStock = 0;
          setDoc(productRef, { stock: newStock }, { merge: true });
        })
        .catch(error => {
          console.error("Erreur lors de la mise à jour du stock:", error);
        });
    }
    
    function updateStockAndFirestore(itemId, delta) {
      const stockElem = document.getElementById("stock-" + itemId);
      let currentStock = parseInt(stockElem.textContent);
      let newStock = currentStock + delta;
      if (newStock < 0) newStock = 0;
      stockElem.textContent = newStock;
      updateStockFirestoreModule(itemId, delta);
    }
    window.updateStockAndFirestore = updateStockAndFirestore;
    
    function loadInventoryFromFirestoreModule() {
      const invCol = collection(db, "inventory");
      onSnapshot(invCol, snapshot => {
        snapshot.docChanges().forEach(change => {
          if (change.type === "added" || change.type === "modified") {
            const data = change.doc.data();
            const stockElem = document.getElementById("stock-" + change.doc.id);
            if (stockElem) {
              stockElem.textContent = data.stock;
            }
          }
        });
      });
    }
    window.loadInventoryFromFirestoreModule = loadInventoryFromFirestoreModule;

    onAuthStateChanged(auth, user => {
      if (user) {
        console.log("Utilisateur authentifié :", user.email);
        loadInventoryFromFirestoreModule();
      } else {
        console.log("Aucun utilisateur authentifié, redirection vers index.");
        window.location.href = "index.html";
      }
    });
  </script>
  
  <!-- Gestion de l'ouverture basée sur les paramètres URL -->
  <script>
    // Fonction pour ouvrir (afficher) tous les articles d'une catégorie et régler le toggle pour qu'il indique "[-]"
    function openCategory(category) {
      const rows = document.querySelectorAll("tr.article-row." + category);
      rows.forEach(row => row.style.display = "table-row");
      const header = document.querySelector("tr.category-header[data-category='" + category + "']");
      if (header) {
        const toggleSpan = header.querySelector("span[id^='toggle-']");
        if (toggleSpan) {
          toggleSpan.textContent = "[-]";
        }
      }
    }
    
    document.addEventListener("DOMContentLoaded", function() {
      const params = new URLSearchParams(window.location.search);
      const scannedBarcode = params.get("barcode");
      const scannedCategory = params.get("category");
      
      if (scannedBarcode) {
        console.log("Code-barres scanné :", scannedBarcode);
        const rowFound = document.querySelector(`tr.article-row[data-barcode="${scannedBarcode}"]`);
        if (rowFound) {
          // Détermine la catégorie en recherchant dans les classes possibles
          let category = null;
          const possibleCategories = ["consommables", "desinfection", "divers", "entretien", "garage"];
          possibleCategories.forEach(cat => {
            if (rowFound.classList.contains(cat)) {
              category = cat;
            }
          });
          if (category) {
            openCategory(category);
          }
          // Affiche et surligne la ligne correspondant au code-barres
          rowFound.style.display = "table-row";
          rowFound.style.backgroundColor = "#ffff99";
          rowFound.scrollIntoView({ behavior: "smooth", block: "center" });
        } else if (scannedCategory) {
          // Si aucun article n'est trouvé avec ce code, ouvre la catégorie transmise
          openCategory(scannedCategory);
        }
      }
      else if (scannedCategory) {
        // Si aucun code-barres n'est spécifié, mais qu'une catégorie est indiquée, ouvre-la
        openCategory(scannedCategory);
      }
    });
  </script>
</body>
</html>
